(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{55:function(a,e,t){a.exports=t(98)},65:function(a,e){},67:function(a,e){},98:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),l=t(50),o=t.n(l),s=t(18),i=t(19),c=t(21),m=t(20),d=t(22),u=t(52),p=t(7),h=t(14),b=(t(60),t(51)),f=t.n(b),g=t(30),v=t.n(g).a.create({baseURL:"http://10.2.24.144:8080"}),E={getPonto:function(a){return v.post("points",a)}},y=function(a){function e(a){var t;return Object(s.a)(this,e),(t=Object(c.a)(this,Object(m.a)(e).call(this,a))).state={isLoading:!1,pontos:[],HorasTrabalhadas:0,MinutosTrabalhados:0},t.menu=t.menu.bind(Object(h.a)(t)),t.listPoint=t.listPoint.bind(Object(h.a)(t)),t}return Object(d.a)(e,a),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.getPonto()}},{key:"leftPad",value:function(a,e,t){var n=e-a.toString().length+1;return Array(n).join(t||"0")+a}},{key:"date",value:function(a){return a.split("-").reduce(function(a,e){return e+"/"+a})}},{key:"getPonto",value:function(){var a=this,e={matricula:this.refs.matricula.value,data:this.date(this.refs.data.value)};E.getPonto(e).then(function(e){if(console.log(e.data),""!==e.data){for(var t,n,r,l,o,s,i=e.data.split(";"),c=1,m=0,d=[],u=0,p=0;u<i.length-1;u+=6,p++){t=i[u+1].split(":");try{n=i[u+4].split(":"),console.log("try")}catch(h){n=f()(new Date,"HH:MM").split(":")}r=3600*parseInt("00"==t[0]?"24":t[0])+60*parseInt(t[1]),l=3600*parseInt("00"==n[0]?"24":n[0])+60*parseInt(n[1]),m=m+3600*(o=parseInt((r>l?r-l:l-r)/3600))+60*(s=parseInt((r>l?r-l:l-r)%3600/60)),d[p]={entrada:i[u+1],saida:i[u+4],batida:c,horas:o,minutos:s},c++}a.setState({pontos:d,HorasTrabalhadas:parseInt(m/3600),MinutosTrabalhados:parseInt(m%3600/60),isLoading:!1})}else a.setState({pontos:[],HorasTrabalhadas:"00",MinutosTrabalhados:"00",isLoading:!0})})}},{key:"menu",value:function(){var a=this;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},r.a.createElement("a",{className:"navbar-brand",href:"#"},r.a.createElement("img",{src:"images/logo.png",width:"200"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link"},r.a.createElement("h5",null,r.a.createElement("span",{class:"badge badge-secondary"},"Horas trabalhadas: ",this.leftPad(this.state.HorasTrabalhadas,2),":",this.leftPad(this.state.MinutosTrabalhados,2)," "))))),r.a.createElement("div",{className:"form-inline my-2 my-lg-0 form-group"},r.a.createElement("label",null,"Matr\xedcula: "),r.a.createElement("input",{ref:"matricula",className:"form-control mr-sm-2",type:"search",placeholder:"","aria-label":"Search"}),r.a.createElement("label",null,"Data: "),r.a.createElement("input",{ref:"data",className:"form-control mr-sm-2",type:"date",placeholder:"","aria-label":"Data"}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",onClick:function(){return a.getPonto()}},"Verificar"))))}},{key:"listPoint",value:function(a){return r.a.createElement("div",{className:"card  col-md-8 offset-md-2"},r.a.createElement("div",{className:"card-header bg-transparent"},"Batida ",a.batida),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"alert alert-primary",role:"alert"},r.a.createElement("p",{className:"font-weight-bold"},"Entrada: ",a.entrada,"  "),r.a.createElement("p",{className:"font-weight-bold"},"Sa\xedda: ",a.saida," "),r.a.createElement("p",{className:"font-weight-bold"},"Perman\xeancia: ",this.leftPad(a.horas,2),":",this.leftPad(a.minutos,2)))))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.menu(),r.a.createElement("div",{className:"row row-content"},!this.state.isLoading&&this.state.pontos.map(this.listPoint)))}}]),e}(n.Component),N=function(a){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(d.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/",component:y})))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(a){a.unregister()})}},[[55,1,2]]]);
//# sourceMappingURL=main.0193b8f3.chunk.js.map